{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["runners"],
  "properties": {
    "description": {
      "type": "string",
      "description": "Description of this runner configuration"
    },
    "runners": {
      "type": "array",
      "description": "Array of runner configurations for parallel execution",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["name", "port", "domains"],
        "properties": {
          "name": {
            "type": "string",
            "description": "Unique name for this runner instance"
          },
          "port": {
            "type": "number",
            "description": "Backend API port for this runner (must be unique)"
          },
          "promptPreset": {
            "type": "string",
            "description": "Prompt preset to use (e.g., apple-style, android-style, more-components)",
            "enum": [
              "default",
              "apple-style",
              "android-style",
              "more-components",
              "minimalist",
              "data-rich",
              "playful"
            ]
          },
          "domains": {
            "type": "array",
            "description": "List of domains this runner should process",
            "minItems": 1,
            "items": {
              "type": "string"
            }
          },
          "options": {
            "type": "object",
            "description": "Additional options for batch generation",
            "properties": {
              "limit": {
                "type": "number",
                "description": "Limit to N descriptions per domain"
              },
              "useStatic": {
                "type": "boolean",
                "description": "Use static descriptions"
              },
              "useDynamic": {
                "type": "boolean",
                "description": "Use dynamic descriptions"
              },
              "useWithImages": {
                "type": "boolean",
                "description": "Use image-focused descriptions"
              }
            }
          }
        }
      }
    },
    "globalOptions": {
      "type": "object",
      "description": "Global options applied to all runners",
      "properties": {
        "referenceImagesDir": {
          "type": ["string", "null"],
          "description": "Directory with reference images for style guidance"
        },
        "imageUrlsDir": {
          "type": ["string", "null"],
          "description": "Directory with image URL text files for content"
        },
        "referencesPerDescription": {
          "type": "number",
          "description": "Generate N variants per description using different references",
          "default": 1
        }
      }
    }
  }
}
